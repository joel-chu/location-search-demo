{"version":3,"sources":["webpack:///./components/listbox/index.tsx","webpack:///./routes/home/style.css","webpack:///./components/searchbox/style.css","webpack:///./components/listbox/style.css","webpack:///./components/searchbox/index.tsx","webpack:///./routes/home/index.tsx"],"names":["DelayClsLi","i","children","useState","update","setUpdate","setTimeout","class","ListBox","initResults","shouldComponentUpdate","render","style","this","props","results","map","name","Component","Loader","t","SearchBox","state","loading","value","onSubmit","e","preventDefault","axios","get","then","res","setState","data","onInput","target","reset","_","opt","type","disabled","length","onClick","Home"],"mappings":"uLAeA,SAASA,EAAT,GAAoD,IAA9BC,EAA8B,EAA9BA,EAAGC,EAA2B,EAA3BA,SAEvB,EAA8BC,YAAS,IAA/BC,EAAR,KAAgBC,EAAhB,KAQA,OAJAC,YAAW,WACTD,EAAU,yBAHQ,IAAJJ,GAOd,kBAAIM,MAAK,qBAAuBH,GAAWF,G,mHCzBhC,EAAQ,cCAR,EAAa,mBAAb,EAA0C,iBAA1C,EAAkE,cAAlE,EAAuF,c,iCCAvF,EAAW,iBH2DXM,E,oJArBbC,YAAc,G,qHAEdC,sBAAA,WACE,OAAO,G,EAKTC,OAAA,WACE,OACE,kBAAIJ,MAAOK,GAEPC,KAAKC,MAAMC,QAAQC,KAAI,SAACC,EAAWhB,GAAZ,OACrB,YAACD,EAAD,CAAYC,EAAGA,GAAKgB,Q,GAdVC,aI9BhBC,EAA0C,SAAC,GAAkB,QAAhBC,SAAgB,SACjE,OACE,mBAAKb,MAAWK,EAAN,KAAuBQ,EAAIR,EAAaA,IAChD,wBACA,wBACA,wBACA,0BAuDSS,E,oJA3CbC,MAAQ,CACNC,SAAS,EACTC,MAAO,GACPT,QAAS,I,EAGXU,SAAW,SAACC,GACVA,EAAEC,iBACFC,IAAMC,IAAN,gBAA0B,EAAKP,MAAME,MAAS,IAC3CM,MAAK,SAAAC,GACJ,EAAKC,SAAS,CAAEjB,QAASgB,EAAIE,W,EAInCC,QAAU,SAACR,GAET,EAAKM,SAAS,CAAER,MADEE,EAAES,OAAZX,S,EAIVY,MAAQ,WACN,EAAKJ,SAAS,CAAER,MAAO,GAAKT,QAAS,M,6GAIvCJ,OAAA,SAAO0B,EAAQC,GACb,OACE,mBAAK/B,MAAOK,GACV,oBAAMa,SAAUZ,KAAKY,UACnB,qBAAOc,KAAK,OAAOf,MAAOc,EAAId,MAAOU,QAASrB,KAAKqB,UAAW,YAAC,EAAD,CAAQd,EAAGP,KAAKS,MAAMC,UACpF,sBAAQgB,KAAK,SAASC,SAAUF,EAAId,MAAMiB,QAAU,GAApD,UACA,sBAAQF,KAAK,SAASG,QAAS7B,KAAKuB,MAAOI,WAAY3B,KAAKS,MAAMP,QAAQ0B,OAAS,IAAnF,UAGF,uBAEA,YAAC,EAAD,CAAS1B,QAASF,KAAKS,MAAMP,Y,GApCbG,aCXTyB,UATmB,WAC9B,OACI,mBAAKpC,MAAOK,GACR,8BACA,YAAC,EAAD","file":"route-home.chunk.e67e6.js","sourcesContent":["// Since this is going to be a sub-comp\n// we need to take special care to avoid all the re-rendering\n\nimport { ComponentChildren, Component, h } from 'preact'\nimport { useState } from 'preact/hooks'\nimport style from './style.css'\n\n////////////////////////////////////////////////////////////\n\ntype ChildrenProps = {\n  i: number;\n  children: ComponentChildren;\n}\n\n// the headache, how to frozen it once the state is set\nfunction DelayClsLi({ i, children }: ChildrenProps) {\n\n  const [ update, setUpdate ] = useState('')\n\n  const delayBy = i * 100\n\n  setTimeout(() => {\n    setUpdate('animate__backInLeft')\n  }, delayBy)\n\n  return (\n    <li class={`animate__animated ${update}`}>{children}</li>\n  )\n}\n\n\n////////////////////////////////////////////////////////////\n\ntype Props = {\n  results: any[];\n}\n\n// Just stick an empty object to fill it up to satisfy the TS code pattern\nclass ListBox extends Component<Props, {}> {\n  initResults = []\n\n  shouldComponentUpdate(nextProps: Props): boolean {\n    return true /// nextProps.results.length > 0\n  }\n\n  \n\n  render() {\n    return (\n      <ul class={style.listBox}>\n        {\n          this.props.results.map((name: any, i: number) => (\n            <DelayClsLi i={i}>{ name }</DelayClsLi>\n          ))\n        }\n      </ul>\n    )\n  }\n}\n\nexport default ListBox\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__5d1wS\"};","// extracted by mini-css-extract-plugin\nexport default {\"searchBox\":\"searchBox__sXv32\",\"ldsRing\":\"ldsRing__1DNfd\",\"hide\":\"hide__HI450\",\"show\":\"show__1Xz-g\"};","// extracted by mini-css-extract-plugin\nexport default {\"listBox\":\"listBox__24Agx\"};","// components/search-box\nimport { FunctionComponent, Component, h } from 'preact'\nimport style from './style.css'\nimport axios from 'axios'\nimport ListBox from '../listbox'\n\n/////////////////////////////////////////////////////////\n\nconst Loader: FunctionComponent<{t: boolean}> = ({ t = false }) => {\n  return (\n    <div class={ `${style.ldsRing} ${t ? style.show : style.hide }`}>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  )\n}\n\n/////////////////////////////////////////////////////////\n\ntype formData = {\n  value?: any\n}\n\nclass SearchBox extends Component {\n  state = {\n    loading: false,\n    value: '',\n    results: []\n  }\n\n  onSubmit = (e: any) => {\n    e.preventDefault()\n    axios.get(`/locations?q=${this.state.value}`, {})\n      .then(res => {\n        this.setState({ results: res.data })\n      })\n  }\n\n  onInput = (e: any) => {\n    const { value } = e.target\n    this.setState({ value })\n  }\n\n  reset = () => {\n    this.setState({ value: '',  results: [] })\n  }\n\n  // output\n  render(_: any, opt: formData) {\n    return (\n      <div class={style.searchBox}>\n        <form onSubmit={this.onSubmit}>\n          <input type=\"text\" value={opt.value} onInput={this.onInput} /><Loader t={this.state.loading} />\n          <button type=\"submit\" disabled={opt.value.length <= 1}>Search</button>\n          <button type=\"button\" onClick={this.reset} disabled={!(this.state.results.length > 0)}>RESET</button>\n        </form>\n\n        <hr />\n\n        <ListBox results={this.state.results} />\n\n      </div>\n    )\n  }\n}\n\n\nexport default SearchBox\n","import { FunctionalComponent, h } from 'preact'\nimport style from './style.css'\n\nimport SearchBox from '../../components/searchbox'\n\nconst Home: FunctionalComponent = () => {\n    return (\n        <div class={style.home}>\n            <h1>Home</h1>\n            <SearchBox />\n        </div>\n    )\n}\n\nexport default Home\n"],"sourceRoot":""}