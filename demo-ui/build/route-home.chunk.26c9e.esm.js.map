{"version":3,"sources":["webpack:///./components/listbox/index.tsx","webpack:///./routes/home/style.css","webpack:///./components/searchbox/style.css","webpack:///./components/listbox/style.css","webpack:///./components/searchbox/index.tsx","webpack:///./routes/home/index.tsx"],"names":["DelayClsLi","i","children","update","setUpdate","useState","setTimeout","class","ListBox","Component","render","style","this","props","results","map","name","Loader","t","SearchBox","state","loading","value","onSubmit","e","preventDefault","axios","get","then","res","setState","data","onInput","target","reset","_","opt","type","disabled","length","onClick","Home"],"mappings":"2FAeA,SAASA,GAAW,EAAEC,EAAF,SAAKC,IAEvB,MAAQC,EAAQC,GAAcC,YAAS,IAQvC,OAJAC,YAAW,KACTF,EAAU,yBAHQ,IAAJH,GAOd,kBAAIM,MAAQ,qBAAoBJ,KAAWD,G,uBCzBhC,EAAQ,cCAR,EAAa,mBAAb,EAA0C,iBAA1C,EAAkE,cAAlE,EAAuF,c,iCCAvF,EAAW,iBH8DXM,MAzBf,cAAsBC,YAYpBC,SACE,OACE,kBAAIH,MAAOI,GAEPC,KAAKC,MAAMC,QAAQC,KAAI,CAACC,EAAWf,IACjC,YAACD,EAAD,CAAYC,EAAGA,GAAKe,QI/ChC,MAAMC,EAA0C,EAAGC,KAAI,KAEnD,mBAAKX,MAAS,GAAEI,KAAiBO,EAAIP,EAAaA,KAChD,wBACA,wBACA,wBACA,yBAuDSQ,MA5Cf,cAAwBV,YAAU,mCAChCW,MAAQ,CACNC,SAAS,EACTC,MAAO,GACPR,QAAS,IAJqB,KAOhCS,SAAYC,IACVA,EAAEC,iBACFC,IAAMC,IAAK,gBAAef,KAAKQ,MAAME,QAAS,IAC3CM,MAAKC,IACJjB,KAAKkB,SAAS,CAAEhB,QAASe,EAAIE,WAXH,KAehCC,QAAWR,IACT,MAAM,MAAEF,GAAUE,EAAES,OACpBrB,KAAKkB,SAAS,CAAER,WAjBc,KAoBhCY,MAAQ,KACNtB,KAAKkB,SAAS,CAAER,MAAO,GAAKR,QAAS,MAIvCJ,OAAOyB,EAAQC,GACb,OACE,mBAAK7B,MAAOI,GACV,oBAAMY,SAAUX,KAAKW,UACnB,qBAAOc,KAAK,OAAOf,MAAOc,EAAId,MAAOU,QAASpB,KAAKoB,UAAW,YAACf,EAAD,CAAQC,EAAGN,KAAKQ,MAAMC,UACpF,sBAAQgB,KAAK,SAASC,SAAUF,EAAId,MAAMiB,QAAU,GAApD,UACA,sBAAQF,KAAK,SAASG,QAAS5B,KAAKsB,MAAOI,WAAY1B,KAAKQ,MAAMN,QAAQyB,OAAS,IAAnF,UAGF,uBAEA,YAAC,EAAD,CAASzB,QAASF,KAAKQ,MAAMN,aC/CtB2B,UATmB,IAE1B,mBAAKlC,MAAOI,GACR,8BACA,YAAC,EAAD","file":"route-home.chunk.26c9e.esm.js","sourcesContent":["// Since this is going to be a sub-comp\n// we need to take special care to avoid all the re-rendering\n\nimport { ComponentChildren, Component, h } from 'preact'\nimport { useState } from 'preact/hooks'\nimport style from './style.css'\n\n////////////////////////////////////////////////////////////\n\ntype ChildrenProps = {\n  i: number;\n  children: ComponentChildren;\n}\n\n// the headache, how to frozen it once the state is set\nfunction DelayClsLi({ i, children }: ChildrenProps) {\n\n  const [ update, setUpdate ] = useState('')\n\n  const delayBy = i * 100\n\n  setTimeout(() => {\n    setUpdate('animate__backInLeft')\n  }, delayBy)\n\n  return (\n    <li class={`animate__animated ${update}`}>{children}</li>\n  )\n}\n\n\n////////////////////////////////////////////////////////////\n\ntype Props = {\n  results: any[];\n}\n\n// Just stick an empty object to fill it up to satisfy the TS code pattern\nclass ListBox extends Component<Props, {}> {\n\n  /*\n  @TODO how to finer control when it's going to re-render\n\n  initResults = []\n\n  shouldComponentUpdate(nextProps: Props): boolean {\n    return true /// nextProps.results.length > 0\n  }\n  */\n\n  render() {\n    return (\n      <ul class={style.listBox}>\n        {\n          this.props.results.map((name: any, i: number) => (\n            <DelayClsLi i={i}>{ name }</DelayClsLi>\n          ))\n        }\n      </ul>\n    )\n  }\n}\n\nexport default ListBox\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__5d1wS\"};","// extracted by mini-css-extract-plugin\nexport default {\"searchBox\":\"searchBox__sXv32\",\"ldsRing\":\"ldsRing__1DNfd\",\"hide\":\"hide__HI450\",\"show\":\"show__1Xz-g\"};","// extracted by mini-css-extract-plugin\nexport default {\"listBox\":\"listBox__24Agx\"};","// components/search-box\nimport { FunctionComponent, Component, h } from 'preact'\nimport style from './style.css'\nimport axios from 'axios'\nimport ListBox from '../listbox'\n\n/////////////////////////////////////////////////////////\n\nconst Loader: FunctionComponent<{t: boolean}> = ({ t = false }) => {\n  return (\n    <div class={ `${style.ldsRing} ${t ? style.show : style.hide }`}>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  )\n}\n\n/////////////////////////////////////////////////////////\n\ntype formData = {\n  value?: any\n}\n\nclass SearchBox extends Component {\n  state = {\n    loading: false,\n    value: '',\n    results: []\n  }\n\n  onSubmit = (e: any) => {\n    e.preventDefault()\n    axios.get(`/locations?q=${this.state.value}`, {})\n      .then(res => {\n        this.setState({ results: res.data })\n      })\n  }\n\n  onInput = (e: any) => {\n    const { value } = e.target\n    this.setState({ value })\n  }\n\n  reset = () => {\n    this.setState({ value: '',  results: [] })\n  }\n\n  // output\n  render(_: any, opt: formData) {\n    return (\n      <div class={style.searchBox}>\n        <form onSubmit={this.onSubmit}>\n          <input type=\"text\" value={opt.value} onInput={this.onInput} /><Loader t={this.state.loading} />\n          <button type=\"submit\" disabled={opt.value.length <= 1}>Search</button>\n          <button type=\"button\" onClick={this.reset} disabled={!(this.state.results.length > 0)}>RESET</button>\n        </form>\n\n        <hr />\n\n        <ListBox results={this.state.results} />\n\n      </div>\n    )\n  }\n}\n\n\nexport default SearchBox\n","import { FunctionalComponent, h } from 'preact'\nimport style from './style.css'\n\nimport SearchBox from '../../components/searchbox'\n\nconst Home: FunctionalComponent = () => {\n    return (\n        <div class={style.home}>\n            <h1>Home</h1>\n            <SearchBox />\n        </div>\n    )\n}\n\nexport default Home\n"],"sourceRoot":""}